{"lines":["----","","","when @lua/opencode/ui/streaming_renderer.lua renders a diff, only the first character, the + has the extmark. the rest of the line doesn't seem to have the highlight?","","here's an example from @tests/data/planning.json","","**  edit** `diff-test.txt`","","```txt","-this is a string","+this is a great string","","```","","the - and the + are highlighted in the right color but none of the text is. any ideas?","","[lua/opencode/ui/streaming_renderer.lua](lua/opencode/ui/streaming_renderer.lua)","","[tests/data/planning.json](tests/data/planning.json)","","[lua/opencode/ui/session_formatter.lua](lua/opencode/ui/session_formatter.lua)","",""],"extmarks":[[1,1,0,{"virt_text_repeat_linebreak":false,"right_gravity":true,"priority":10,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌󰭻 ","OpencodeMessageRoleUser"],[" "],["USER","OpencodeMessageRoleUser"],["","OpencodeHint"],[" (2025-10-12 23:38:21)","OpencodeHint"],[" [msg_9daca16bf0017x95VD45mw3k8Q]","OpencodeHint"]]}],[2,2,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[3,3,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[4,3,5,{"hl_eol":false,"right_gravity":true,"end_col":44,"end_row":3,"ns_id":3,"end_right_gravity":false,"hl_group":"OpencodeMention","priority":1000}],[5,4,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[6,5,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[7,5,23,{"hl_eol":false,"right_gravity":true,"end_col":48,"end_row":5,"ns_id":3,"end_right_gravity":false,"hl_group":"OpencodeMention","priority":1000}],[8,6,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[9,7,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[10,8,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[11,9,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[12,10,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[13,11,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[14,12,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[15,13,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[16,14,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[17,15,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[18,16,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[19,17,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[20,18,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[21,19,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[22,20,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}],[23,21,0,{"virt_text_repeat_linebreak":true,"right_gravity":true,"priority":4096,"virt_text_pos":"win_col","ns_id":3,"virt_text_win_col":-3,"virt_text_hide":false,"virt_text":[["▌","OpencodeMessageRoleUser"]]}]],"timestamp":1766431563,"actions":[]}